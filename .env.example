# =============================================================================
# IgniteLens Backend Services - Environment Configuration Example
# =============================================================================
# Copy this file to .env and update the values according to your environment
# All values shown are defaults or examples - update them for your setup

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
APP_NAME="IgniteLens Backend Services"
APP_VERSION="0.1.0"
ENVIRONMENT="development"  # Options: development, production, testing
DEBUG=true

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
HOST="0.0.0.0"
PORT=8000

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# PostgreSQL connection string
DATABASE_URL=""
DATABASE_ECHO=false
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=5
DATABASE_POOL_TIMEOUT=30
DATABASE_POOL_RECYCLE=1800
DATABASE_POOL_PRE_PING=true

# =============================================================================
# LLM CONFIGURATION (Portkey)
# =============================================================================
# Portkey API credentials for LLM integration
PORTKEY_API_KEY=""
PORTKEY_DEFAULT_KEY=""

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_URL="redis://localhost:6379/0"

# =============================================================================
# CACHE SETTINGS
# =============================================================================
CACHE_ENABLED=true
CACHE_DEFAULT_TTL=300  # 5 minutes in seconds
CACHE_MAX_CONNECTIONS=50
CACHE_RETRY_ON_TIMEOUT=true


# =============================================================================
# Platform Microservice
# =============================================================================
PLATFORM_SERVICE_URL=""
PLATFORM_SERVICE_TIMEOUT=30
PLATFORM_SERVICE_RETRY_ATTEMPTS=3

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
LOG_LEVEL="INFO"  # Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FORMAT="json"  # Options: json, text

# =============================================================================
# OPENTELEMETRY & OBSERVABILITY
# =============================================================================
OTEL_SERVICE_NAME="ignitelens-backend"
OTEL_SERVICE_VERSION="0.1.0"

# =============================================================================
# JAEGER TRACING CONFIGURATION
# =============================================================================
JAEGER_ENABLED=true
JAEGER_LOGS_ENABLED=false  # Disabled: Jaeger all-in-one doesn't support OTLP logs properly
JAEGER_AGENT_HOST="localhost"
JAEGER_AGENT_PORT=6831
JAEGER_COLLECTOR_ENDPOINT="http://localhost:14268/api/traces"
JAEGER_GRPC_ENDPOINT="http://localhost:14250"
TRACE_SAMPLING_RATE=1.0  # Range: 0.0 to 1.0

# =============================================================================
# PROMETHEUS METRICS
# =============================================================================
METRICS_PORT=8001
ENABLE_METRICS=true

# =============================================================================
# SECURITY HEADERS
# =============================================================================
SECURITY_HEADERS_ENABLED=true
X_FRAME_OPTIONS="DENY"  # Options: DENY, SAMEORIGIN, or ALLOW-FROM uri
HSTS_ENABLED=true
HSTS_MAX_AGE=31536000  # 1 year in seconds
HSTS_INCLUDE_SUBDOMAINS=true
HSTS_PRELOAD=false
REFERRER_POLICY="strict-origin-when-cross-origin"
CSP_ENABLED=true
CSP_DISABLE_IN_DEVELOPMENT=false
CONTENT_SECURITY_POLICY="default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; font-src 'self' https:; connect-src 'self' https:; media-src 'self'; object-src 'none'; child-src 'none'; worker-src 'none'; frame-ancestors 'none'; form-action 'self'; base-uri 'self';"
PERMISSIONS_POLICY="geolocation=(), microphone=(), camera=(), payment=(), usb=(), magnetometer=(), gyroscope=(), speaker=()"
REMOVE_SERVER_HEADER=true

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
# CORS_ALLOWED_ORIGINS=["http://localhost:3000", "https://yourdomain.com"]  # Uncomment and set specific origins
CORS_ALLOW_ALL_ORIGINS=false
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=["GET", "POST", "PUT", "DELETE", "OPTIONS", "HEAD", "PATCH"]
CORS_ALLOW_HEADERS=["*"]
CORS_EXPOSE_HEADERS=["X-Correlation-ID", "X-Trace-ID"]
CORS_MAX_AGE=86400  # 24 hours in seconds

# =============================================================================
# DEVELOPMENT NOTES
# =============================================================================
# 1. For production, set ENVIRONMENT="production" and DEBUG=false
# 2. Update DATABASE_URL with your actual database credentials
# 3. Set PORTKEY_API_KEY with your actual Portkey API key
# 4. Configure CORS_ALLOWED_ORIGINS for production (remove CORS_ALLOW_ALL_ORIGINS)
# 5. Update Redis URL if using external Redis instance
# 6. Adjust cache and session TTL values based on your requirements
# 7. Configure Jaeger endpoints if using external Jaeger instance
